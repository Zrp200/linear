#!/usr/bin/env ruby
require "linear"
include Linear
equation = proc do |index
	case ARGV[index]
		when "slope-intercept"
			$equation_index = index + 3
			SlopeIntercept.find index + 1
		when "standard" 
			$equation_index = index + 4
			Standard.new ARGV[index + 1].to_f, ARGV[index + 2].to_f, ARGV[index + 3].to_f
		when "function" then case ARGV.length
			when index then Function.new
			when index + 2 then Function.new ARGV[index + 1].to_f
			when index + 3 then Function.new ARGV[index + 1].to_f, ARGV[index + 2].to_f
		end
		when "point-slope"
			$equation_index = index + 4
			PointSlope.find index + 1
	end
end
equationindex = proc do
	case ARGV
puts case ARGV[0]
	when "graph" then Graph.new equation.call 1
	when "display" then equation.call 1
	when "execute" then equation.call(1).execute ARGV[$equation_index].to_f
end
